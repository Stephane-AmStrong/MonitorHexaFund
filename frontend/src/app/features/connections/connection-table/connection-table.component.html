<table mat-table [dataSource]="connections()">

    <!-- ClientId Column -->
    <ng-container matColumnDef="clientId">
        <th mat-header-cell *matHeaderCellDef>ClientId</th>
        <td mat-cell *matCellDef="let connection">{{connection.clientId}}</td>
    </ng-container>

    <!-- Application Column -->
    <ng-container matColumnDef="application">
        <th mat-header-cell *matHeaderCellDef>Application</th>
        <td mat-cell *matCellDef="let connection">{{connection.application}}</td>
    </ng-container>

    <!-- ServerId Column -->
    <ng-container matColumnDef="serverId">
        <th mat-header-cell *matHeaderCellDef>Application Id</th>
        <td mat-cell *matCellDef="let connection">{{connection.serverId}}</td>
    </ng-container>

    <!-- ApiVersion Column -->
    <ng-container matColumnDef="apiVersion">
        <th mat-header-cell *matHeaderCellDef>ApiVersion</th>
        <td mat-cell *matCellDef="let connection">
            @if (connection.apiVersion) {
                <prefix-pictogram [icon]="'tag'" [iconColor]="connection.apiVersion | hashColor" [label]="connection.apiVersion"/>
            }
        </td>
    </ng-container>

    <!-- Machine Column -->
    <ng-container matColumnDef="machine">
        <th mat-header-cell *matHeaderCellDef>Machine</th>
        <td mat-cell *matCellDef="let connection">{{connection.machine}}</td>
    </ng-container>

    <!-- ProcessId Column -->
    <ng-container matColumnDef="processId">
        <th mat-header-cell *matHeaderCellDef>Process Id</th>
        <td mat-cell *matCellDef="let connection">{{connection.processId}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="connectionColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: connectionColumns;" (click)="onConnectionClicked(row)"></tr>
</table>
